<%@page import="java.sql.DriverManager"%>
<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.PreparedStatement"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	String pUserId=request.getParameter("userId");
	String pUserPw=request.getParameter("userPw");
	String pUserName=request.getParameter("userName");
	
	String driver="oracle.jdbc.OracleDriver";
	String url="jdbc:oracle:thin:@localhost:1521:xe";
	String id="hi1237";
	String pw="1234";
	// string id, pw는 db의 사용자 이름을쓰는 것! 닫른것과 오해 XX
	
	Connection conn=null;
	PreparedStatement pstmt=null;
	ResultSet rs=null;

	String sql="insert into member values (?,?,?)";
	// jsp에 가져오는건 자동으로 커밋되는 것으로 디폴트 되어있음.
	
	Class.forName(driver);
	// driver connection을 통해 jsp와 db를 연결시켜 줘야 한다!!! jsp와 db는 직접 연결이 안된다.
	conn= DriverManager.getConnection(url, id, pw);
	pstmt=conn.prepareStatement(sql);
	pstmt.setString(1, pUserId);
	pstmt.setString(2, pUserName);
	pstmt.setString(3, pUserPw); // db의 member 테이블의 열 순서대로 써줘야 한다..
	
	int result=pstmt.executeUpdate();
	if(result > 0){
		
	}
	
	
	//아래는 query를 실행
	// rs=pstmt.executeQuery();
	
	
	// 하나만 찾을거면 if, 여러개 찾을거면 while
	/* if(rs.next()){
		
	} */
	
%>